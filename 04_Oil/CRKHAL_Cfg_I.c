/******************************************************************************/
/* !Layer           : HAL                                                     */
/* !Component       : CRKHAL                                                  */
/* !Description     : Crankshaft Driver                                       */
/*                                                                            */
/* !File            : CRKHAL_Cfg_I.c                                          */
/* !Description     : CRKHAL configuration                                    */
/*                                                                            */
/* !Reference       :                                                         */
/*                                                                            */
/* Coding language  : C                                                       */
/*                                                                            */
/* COPYRIGHT VALEO all rights reserved                                        */
/******************************************************************************/
/** 11/10/14, 10:16:14: generated by Genecode v2.6.0.0                        */
/******************************************************************************/

#include "Std_Types.h"
#include "Std_Limits.h"

#include "CRKHAL.h"
#include "CRKHAL_Co_Cfg.h"
#include "CRKHAL_I.h"
#include "CRKHAL_Cfg_I.h"
#include "IfxGtm_Ccu.h"
#include "IfxGtm_Def.h"
#include "IfxGtm_Typ.h"
/*lint -save -e927 */
/*lint -save -e928 */

/*lint -esym(960,5.1) */
/*lint -esym(960,17.4) */
/*lint -esym(960,11.5) */
/* !MComment: Check of defines declaration                                    */
#ifndef CRKHAL_coBIDIR_PULSE_DIAG
   #error The macro-constant CRKHAL_coBIDIR_PULSE_DIAG shall be defined
#endif
#ifndef CRKHAL_coENABLED
   #error The macro-constant CRKHAL_coENABLED shall be defined
#endif

/******************************************************************************/
/* !MComment: Internal Data Definition                                        */
/******************************************************************************/
#define CRKHAL_START_SEC_VAR_CLEARED_32BIT
#include "CRKHAL_MemMap.h"

uint32 CRKHAL_au32AbsAngleArray[CRKHAL_udtMAX_ALARM_COMPARE_CHANNELS];

#define CRKHAL_STOP_SEC_VAR_CLEARED_32BIT
#include "CRKHAL_MemMap.h"

#define CRKHAL_START_SEC_CONST_UNSPECIFIED
#include "CRKHAL_MemMap.h"

const Ifx_GTM_ATOM_STRUCT CRKHAL_akstrAlarmAtomCh[CRKHAL_udtMAX_ALARM_COMPARE_CHANNELS] =
{
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(ANGSCHED_1))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(ANGSCHED_1)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(ANGSCHED_1))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(ANGSCHED_2))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(ANGSCHED_2)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(ANGSCHED_2))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_A_CMD))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_A_CMD)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_A_CMD))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_B_CMD))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_B_CMD)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_B_CMD))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_C_CMD))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_C_CMD)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(COIL_C_CMD))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(IGN_REF_TEETH))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(IGN_REF_TEETH)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(IGN_REF_TEETH))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_1_ANGLE))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_1_ANGLE)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_1_ANGLE))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_2_ANGLE))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_2_ANGLE)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_2_ANGLE))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_3_ANGLE))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_3_ANGLE)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(INJ_3_ANGLE))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(KNW_SAMPLING_WIN))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(KNW_SAMPLING_WIN)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(KNW_SAMPLING_WIN))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(SPILL_EVENT_ANGLE))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(SPILL_EVENT_ANGLE)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(SPILL_EVENT_ANGLE))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(M_CMD_GDI_PMP_ANGLE))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(M_CMD_GDI_PMP_ANGLE)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(M_CMD_GDI_PMP_ANGLE))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(IT_1_4_TDC))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(IT_1_4_TDC)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(IT_1_4_TDC))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(PTMHAL))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(PTMHAL)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(PTMHAL))
   + (ATOM_AGC_OFFSET))
   },
   {
     (Ifx_GTM_ATOM_CH *)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(TDC))
   + (ATOM_CH_OFFSET * CRKHAL_snGET_ATOM_Channel_FROM_CFG(TDC)))
   ,
     (Ifx_GTM_ATOM_AGC*)(IFX_GTM_BASE + ATOM_BASE_OFFSET
   + (ATOM_OFFSET * CRKHAL_snGET_ATOM_FROM_CFG(TDC))
   + (ATOM_AGC_OFFSET))
   },

};


#define CRKHAL_STOP_SEC_CONST_UNSPECIFIED
#include "CRKHAL_MemMap.h"

#define CRKHAL_START_SEC_VAR_INIT_UNSPECIFIED
#include "CRKHAL_MemMap.h"

volatile Ifx_GTM_TIM_CH* CRKHAL_akstrAlarmTimCh[CRKHAL_udtMAX_ALARM_CAPTURE_CHANNELS] =
{
   {
      (Ifx_GTM_TIM_CH *)( IFX_GTM_BASE + TIM_GLB_OFFSET
                          + (TIM_OFFSET * CRKHAL_snGET_TIM_FROM_CFG(CAMHAL_INCAM_EDGE_MNG))
                          + (TIMxCHxOFFSET * CRKHAL_snGET_TIM_Channel_FROM_CFG(CAMHAL_INCAM_EDGE_MNG)))
   },
   {
      (Ifx_GTM_TIM_CH *)( IFX_GTM_BASE + TIM_GLB_OFFSET
                          + (TIM_OFFSET * CRKHAL_snGET_TIM_FROM_CFG(CAMHAL_EXCAM_EDGE_MNG))
                          + (TIMxCHxOFFSET * CRKHAL_snGET_TIM_Channel_FROM_CFG(CAMHAL_EXCAM_EDGE_MNG)))
   },

};


#define CRKHAL_STOP_SEC_VAR_INIT_UNSPECIFIED
#include "CRKHAL_MemMap.h"

/******************************************************************************/
/* !MComment: Internal functions Definition                                   */
/******************************************************************************/

#define CRKHAL_START_SEC_CODE
#include "CRKHAL_MemMap.h"

/******************************************************************************/
/* !FuncName    : CRKHAL_bReadInputSgn1                                       */
/* !Description : Reads level of INPUT_SGN_1                                  */
/* !LastAuthor  : L. Baglin                                                   */
/******************************************************************************/
/*boolean CRKHAL_bReadInputSgn1(void)
{
   boolean bLocalResult;

   bLocalResult = IfxGtm_ubTimReadInputSgn();
   return(bLocalResult);
}*/

/******************************************************************************/
/* !FuncName    : CRKHAL_vidInitAlarmChannels                                 */
/* !Description : Init of CRKHAL_akstrAlarmAtomCh Table with ATOM_CH and      */
/*                ATOM_AGC Registers for each angular channel                 */
/* !LastAuthor  : L. Baglin                                                   */
/******************************************************************************/
void CRKHAL_vidInitAlarmChannels(void)
{
   uint32 Local_u32Index = 0U;

   /* ANGSCHED_1 ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_1].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_1].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(ANGSCHED_1),
      IfxGtm_Atom_Level_Low);

   /* ANGSCHED_2 ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_2].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_2].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(ANGSCHED_2),
      IfxGtm_Atom_Level_Low);

   /* COIL_A_CMD ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_A_CMD].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_A_CMD].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_A_CMD),
      IfxGtm_Atom_Level_Low);

   /* COIL_B_CMD ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_B_CMD].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_B_CMD].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_B_CMD),
      IfxGtm_Atom_Level_Low);

   /* COIL_C_CMD ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_C_CMD].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_C_CMD].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(COIL_C_CMD),
      IfxGtm_Atom_Level_Low);

   /* IGN_REF_TEETH ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIGN_REF_TEETH].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIGN_REF_TEETH].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(IGN_REF_TEETH),
      IfxGtm_Atom_Level_Low);

   /* INJ_1_ANGLE ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_1_ANGLE].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_1_ANGLE].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_1_ANGLE),
      IfxGtm_Atom_Level_Low);

   /* INJ_2_ANGLE ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_2_ANGLE].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_2_ANGLE].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_2_ANGLE),
      IfxGtm_Atom_Level_Low);

   /* INJ_3_ANGLE ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_3_ANGLE].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_3_ANGLE].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(INJ_3_ANGLE),
      IfxGtm_Atom_Level_Low);

   /* KNW_SAMPLING_WIN ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexKNW_SAMPLING_WIN].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexKNW_SAMPLING_WIN].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(KNW_SAMPLING_WIN),
      IfxGtm_Atom_Level_Low);

   /* SPILL_EVENT_ANGLE ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexSPILL_EVENT_ANGLE].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexSPILL_EVENT_ANGLE].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(SPILL_EVENT_ANGLE),
      IfxGtm_Atom_Level_Low);

   /* M_CMD_GDI_PMP_ANGLE ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexM_CMD_GDI_PMP_ANGLE].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexM_CMD_GDI_PMP_ANGLE].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(M_CMD_GDI_PMP_ANGLE),
      IfxGtm_Atom_Level_Low);

   /* IT_1_4_TDC ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIT_1_4_TDC].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIT_1_4_TDC].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(IT_1_4_TDC),
      IfxGtm_Atom_Level_Low);

   /* PTMHAL ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexPTMHAL].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexPTMHAL].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(PTMHAL),
      IfxGtm_Atom_Level_Low);

   /* TDC ATOM Mapping */
   IfxGtm_vidAtomEnableChannel(
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexTDC].GTM_ATOM_CH,
      CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexTDC].GTM_ATOM_AGC,
      CRKHAL_snGET_ATOM_Channel_FROM_CFG(TDC),
      IfxGtm_Atom_Level_Low);


   for (Local_u32Index = 0U;
        Local_u32Index < CRKHAL_udtMAX_ALARM_COMPARE_CHANNELS;
        Local_u32Index ++)
   {
      CRKHAL_au32AbsAngleArray[Local_u32Index] = 0x00FFFFFFU;
   }
}

/******************************************************************************/
/* !FuncName    : CRKHAL_vidUpdateAngAlarms                                   */
/* !Description : Update Values of Angular Alarms                             */
/* !LastAuthor  : L. Baglin                                                   */
/******************************************************************************/
void CRKHAL_vidUpdateAngAlarms(uint16 u16AngleOffset)
{
   uint32 u32LocalAngAlarmValue;

   /* Channel ANGSCHED_1 */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_1].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_1].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel ANGSCHED_2 */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_2].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexANGSCHED_2].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel COIL_A_CMD */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_A_CMD].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_A_CMD].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel COIL_B_CMD */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_B_CMD].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_B_CMD].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel COIL_C_CMD */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_C_CMD].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexCOIL_C_CMD].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel IGN_REF_TEETH */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIGN_REF_TEETH].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIGN_REF_TEETH].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel INJ_1_ANGLE */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_1_ANGLE].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_1_ANGLE].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel INJ_2_ANGLE */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_2_ANGLE].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_2_ANGLE].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel INJ_3_ANGLE */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_3_ANGLE].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexINJ_3_ANGLE].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel KNW_SAMPLING_WIN */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexKNW_SAMPLING_WIN].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexKNW_SAMPLING_WIN].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel SPILL_EVENT_ANGLE */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexSPILL_EVENT_ANGLE].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexSPILL_EVENT_ANGLE].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel M_CMD_GDI_PMP_ANGLE */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexM_CMD_GDI_PMP_ANGLE].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexM_CMD_GDI_PMP_ANGLE].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel IT_1_4_TDC */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIT_1_4_TDC].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexIT_1_4_TDC].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel PTMHAL */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexPTMHAL].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexPTMHAL].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
   /* Channel TDC */
   u32LocalAngAlarmValue = (uint32) IfxGtm_u32AtomCcu1Read(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexTDC].GTM_ATOM_CH);

   if (u32LocalAngAlarmValue < (uint32) CRKHAL_u16EngineCycleAngle)
   {
      u32LocalAngAlarmValue += (uint32) u16AngleOffset;
      if (u32LocalAngAlarmValue >= (uint32) CRKHAL_u16EngineCycleAngle)
      {
         u32LocalAngAlarmValue -= (uint32) CRKHAL_u16EngineCycleAngle;
      }
      IfxGtm_vidAtomCcu1Write(CRKHAL_akstrAlarmAtomCh[CRKHAL_u8AtomIndexTDC].GTM_ATOM_CH, u32LocalAngAlarmValue);
   }
}

/*lint -restore */
#define CRKHAL_STOP_SEC_CODE
#include "CRKHAL_MemMap.h"

/*------------------------------ end of file ---------------------------------*/
