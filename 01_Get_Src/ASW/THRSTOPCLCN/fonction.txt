Nom_fonction|Release_fonction|Prototype|Num_stc|Nom_module|Public|Reférence_spec_systéme|Reférence_spec_systéme_1|Reférence_spec_systéme_2|Reférence_spec_systéme_3|Fonction_à_supprimer|Validation|Export_part|Macro|function_description
GDGAR_bGetFRM|A|(argin uint16 u16IndexFRM)boolean;|2|HEADER|1|NONE||||0|0|0|0|Fonction GDGAR_bGetFRM
GDGAR_vidGdu|A|(argin uint16 u16IdxDft, argin boolean bDgo, argin boolean bMonRun, argin boolean bDiagStWait);|1|HEADER|1|NONE||||0|0|0|0|Fonction GDU
pap_mot_NVMSRV_vidInit|B|();|FCT2.9|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|l’initialisation, on vient lire toutes les données enregistrées en EEPROM. Dans le cas d’une première mise sous tension, on utilise les valeurs par défaut.
Thr_EveChkLih_MngServo_ThrStopClcn|A|();|SCH.6|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Demande de vérification de la position de repos du papillon
Thr_EveClcnServo_StopClcn|B|();|SCH.3|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Evénement de calcul de l'asservissement papillon motorisé (front montant du signal PWM de commande)
Thr_EveIniLrnLih_StopClcn|A|();|SCH.9|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Evénement de l'initialisation du flag d'apprentissage au power on suivant en cas de dérive de limp-home.
Thr_EveIniStop_MngServo|B|();|SCH.2|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Demande d'initialisation des valeurs maximales lues sur les deux capteurs de position papillon
Thr_EveRst_StopClcn|C|();|SCH.1|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Evénement reset du calculateur
Thr_EveRstThr_stopClcn|B|();|SCH.8|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Evèvenement de requête de recentrage des adaptatifs papillon.
Thr_EveStoreHiStop_MngServo|B|();|SCH.4|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Demande de mémorisation de la butée haute du papillon
Thr_EveStoreLih_StopClcn|D|();|SCH.7|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Demande de mémorisation de la position de repos du papillon
Thr_EveStoreLoStop_MngServo|B|();|SCH.5|THRSTOPCLCN|1|V02 NT 08 04799||||0|0|0|0|Demande de mémorisation de la butéee basse du papillon
THRSTOPCLCN_vidCalc_Lih_prec|B|();|FCT2.10|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Production des variables précédentes des variables Tpac_1_limp_home_pos et Tpac_2_limp_home_pos.
THRSTOPCLCN_vidCalcLoThrustLHNeg|C|();|FCT2.3|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|La position d’écoulement mini, dite de butée basse d’asservissement, correspond à la position de repos mécanique finale plus un offset de position, noté « Tpac_lhome_to_closed_thrust_cal ».
THRSTOPCLCN_vidCheckLimpHome|D|();|FCT2.1|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Le microcontrôleur principal vérifie que la fonction d’inhibit du microcontrôleur watchdog est opérationnelle. Il procède à la lecture de la position de repos. Il s'assure ainsi que le papillon est bien en position de limp-home.
THRSTOPCLCN_vidClosedThrusts|D|();|FCT1.5|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Ce processus est « triggé » par l'automate de gestion de l'asservissement du papillon motorisé lorsque la butée basse est trouvée. La butée basse devient alors le minimum de position lu au cours de la recherche de butée.
THRSTOPCLCN_vidEndStopDiag|B|();|FCT2.5|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Fonction positionnant les paramètres de diagnostic (GDU) avant l'appel au GDU.
THRSTOPCLCN_vidFailureCounting|C|();|FCT1.5|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Si le papillon est à limp home négatif et que les valeurs maximales sont hors-gamme, une panne «Tpac_thrusts» est mémorisée immédiatement ou à la fin de l’apprentissage de butée basse.
THRSTOPCLCN_vidFilter|C|();|FCT1.6|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|L’évolution importante de la butée basse apprise du papillon motorisé d’un roulage à un autre peut conduire à des problèmes pour assurer la régulation ralenti. Pour remédier à cela, on filtre la position apprise par un filtre de premier ordre.
THRSTOPCLCN_vidInhibTps2LHomeMcw|C|();|FCT3.6|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|La détection d’une mesure hors-gamme sur le capteur n°2 est mémorisée dans une variable temporaire. Elle sera lue à la fin de la procédure d’acquisition des butées afin de diagnostiquer l’état général des capteurs et du papillon.
THRSTOPCLCN_vidIniLrnLimpHome|A|();|FCT2.7|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|
THRSTOPCLCN_vidInitEndStopHiLow|C|();|FCT1.2|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Les valeurs maximales et minimales lues sur les deux  capteurs sont initialisées à une valeur intermédiaire avant que l’apprentissage ne débute
THRSTOPCLCN_vidInitOutput|D|();|FCT1.1|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Fonction d'initialisation des variables produites le composant software THRSTOPCLCN.
THRSTOPCLCN_vidLihDiag|B|();|FCT2.4|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Positionne les paramètres de diagnostic (GDU) avant de réaliser l'appel au GDU.
THRSTOPCLCN_vidLimpHome|F|();|FCT2.2|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Cette fonction est appelée par l’automate d'asservissement. Elle procède à la lecture de la position de repos, dite de limp-home, sur les capteurs n°1 e t n°2. Si les valeurs de position obtenues sont hor s gamme, une panne « tpac_lhome » est mémorisée.
THRSTOPCLCN_vidNoFilter|C|();|FCT1.8|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Le filtrage de la butée basse ne sera pas activé lors du premier apprentissage en usine ou lors des demandes d’apprentissage en APV.
THRSTOPCLCN_vidOpenThrusts|C|();|FCT1.4|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Si ces valeurs maximales sont hors-gamme, une panne « Tpac_thrusts » est mémorisée immédiatement, dans le cas d’un papillon à limp home négatif (Tpac_throttle_lh_pos = 0). La mesure est dite hors gamme et la butée  haute conserve sa précédente valeur.
THRSTOPCLCN_vidPositionFiltering|C|();|FCT1.3|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Les positions fournies par les deux capteurs sont filtrées par un filtre médian. Les maxima et minima sont enregistrés en permanence pour la recherche et l'apprentissage des butées. Elles sont réinitialisées à chaque début d’apprentissage de butée.
THRSTOPCLCN_vidRefLearning|C|();|FCT1.7|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Lors du premier apprentissage en usine ou lors des demandes d’apprentissage en APV, on mémorise la première butée basse apprise en E2PROM. Tpac_x_closed_throttle_ref n’est ensuite pas remise à jour lors des apprentissages sous power-down.
THRSTOPCLCN_vidReinitSrvDiag|B|();|FCT2.8|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|L’événement Thr_EveRstThr_stopClcn correspond à un service après-vente permettant le recentrage des adaptatifs.
THRSTOPCLCN_vidReinitThrust|C|();|FCT1.10|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Les booléens « Tpac_1_thrust_inh_temp » et « Tpac_2_thrust_inh_temp » doivent être initialisés à 0 au début de la recherche de butée et de la position de repos. Pas de recherche que la butée haute est bien la première étape de la procédure d’apprentissage
THRSTOPCLCN_vidStuckThr|B|();|FCT2.6|THRSTOPCLCN|0|V02 NT 08 04799||||0|0|0|0|Si les mesures sur les deux pistes sont hors-gamme alors le papillon est considéré bloqué mécaniquement. Le booléen « Tpac_throttle_locked » est placé à 1, ce qui déclenche le mode dégradé limp-home
