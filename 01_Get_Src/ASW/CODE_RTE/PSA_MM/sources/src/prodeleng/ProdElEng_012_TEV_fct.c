/**************************************************************************************************\
 *** 
 *** Simulink model       : ProdElEng_07_2659_TL
 *** TargetLink subsystem : ProdElEng_07_2659_TL/ProdElEng_012
 *** Codefile             : prodeleng_012_tev_fct.c
 ***
 *** Generated by TargetLink, the dSPACE production quality code generator
 *** Generation date: 2011-08-09 11:21:35
 ***
 *** CODE GENERATOR OPTIONS:
 *** Compiler                            : <unknown>
 *** Target                              : Generic
 *** ANSI-C compatible code              : yes
 *** Optimization level                  : 2
 *** Constant style                      : decimal
 *** Clean code option                   : enabled
 *** Logging mode                        : Do not log anything
 *** Linker sections                     : enabled
 *** Assembler statements                : disabled
 *** Variable name length                : 31 chars
 *** Use global bitfields                : disabled
 *** Stateflow: use of bitfields         : enabled
 *** State activity encoding limit       : 5
 *** Omit zero inits in restart function : disabled
 *** Share fcns between TL subsystems    : enabled
 *** Generate 64bit functions            : enabled
 *** Inlining Threshold                  : 6
 *** Line break limit                    : 100
 *** Target optimized boolean data type  : enabled
 *** Keep saturation elements            : disabled
 *** Extended variable sharing           : enabled
 *** Style definition file               : C:\Dspace301\Matlab\Tl\config\codegen\cconfig.xml
 *** Root style sheet                    : C:\Dspace301\Matlab\Tl\XML\CodeGen\Stylesheets\TL_CSource
 ***                                       CodeSS.xsl
 *** Enable Multirate codegeneration     : disabled
 *** Add model checksum                  : disabled
 ***
 *** SUBSYS                   CORRESPONDING SIMULINK SUBSYSTEM
 *** S0121                    ProdElEng_07_2659_TL/ProdElEng_012
 *** S0122                    ProdElEng_012/F01_CoordUHRecup
 *** S0123                    ProdElEng_012/F02_CordVoltCtl
 *** S0124                    ProdElEng_012/F03_Eng_Bls_Auth
 *** S0125                    ProdElEng_012/F04_Demande_Pontage_BVA
 *** S0126                    ProdElEng_012/F02_CordVoltCtl/TurnOffDelay
 *** S0127                    ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8
 *** S0128                    ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter
 *** S0129                    ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter
 *** S01210                   ProdElEng_012/F03_Eng_Bls_Auth/BasculeRS
 *** S01211                   ProdElEng_012/F04_Demande_Pontage_BVA/BasculeRS1
 *** 
 *** SF-NODE   CORRESPONDING STATEFLOW NODE                           DESCRIPTION
 *** 
 *** TargetLink version      : 3.0.1 from 26-May-2009
 *** Code generator version  : Build Id 3.0.1.7 from 2009-May-06 15:28:18
 *** Copyright (c) 2006 dSPACE GmbH
\**************************************************************************************************/

#ifndef _PRODELENG_012_TEV_FCT_C_
#define _PRODELENG_012_TEV_FCT_C_

/*----------------------------------------------------------------------------*\
  DEFINES (OPT)
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  INCLUDES
\*----------------------------------------------------------------------------*/
#include "ProdElEng_012_TEV_fct.h"
#include "ProdElEng_012_calibrations.h"
#include "Library_lut.h"
#include "dsfxp.h"
/*----------------------------------------------------------------------------*\
  DEFINES
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  TYPEDEFS
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  ENUMS
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  VARIABLES
\*----------------------------------------------------------------------------*/

#define PRODELENG_START_SEC_CONST_UNSPECIFIED
#include "ProdElEng_MemMap.h"
/******************************************************************************\
   AR_SEC_CONST_UNSPECIFIED_STATIC: Const UNSPECIFIED bits for AUTOSAR modules | Width: N.A.
\******************************************************************************/
AR_SEC_CONST_UNSPECIFIED_STATIC MAP_Tab1DS2I2T0 S0123__D_visu_map = {
   4 /* Nx:  */, 
   (const UInt8 *) &(TqLimUH_bAcvCpl_A[0]) /* x_table: vector with x-values */, 
   (const UInt8 *) &(TqLimUH_bAcvCpl_T[0]) /* z_table: matrix with z-values */
};

#define PRODELENG_STOP_SEC_CONST_UNSPECIFIED
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_GLOBAL_16BIT
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   AR_IF_GLOBAL_16BIT: Global 16 bits for AUTOSAR modules | Width: 16
\******************************************************************************/
AR_IF_GLOBAL_16BIT UInt16 ProdElEng_012_CoVSCtl_rAccPEngTrv_in /* 
   Unit       : %
   Description: Valeur pédale moteur
   LSB: 2^-7 OFF:  0 MIN/MAX:  0 .. 100 */;
AR_IF_GLOBAL_16BIT UInt16 ProdElEng_012_Eng_nCkFil_in /* 
   Unit       : tr/min
   Description: Régime moteur filtré envoyé à 10ms
   LSB: 2^-2 OFF:  0 MIN/MAX:  0 .. 8000 */;
AR_IF_GLOBAL_16BIT UInt16 ProdElEng_012_TqSys_nTarIdl_in /* 
   Unit       : tr/min
   Description: Régime de ralenti cible final / Final idle target
   LSB: 2^-2 OFF:  0 MIN/MAX:  0 .. 8000 */;
AR_IF_GLOBAL_16BIT SInt16 ProdElEng_012_TqSys_tqCkEngReal_in /* 
   Unit       : N.m
   Description: Couple moteur réel estimé
   LSB: 2^-4 OFF:  0 MIN/MAX:  -2000 .. 2000 */;
AR_IF_GLOBAL_16BIT UInt16 TqLimUH_grdLimVoltCtlDynMax_out /* 
   Unit       : (tr/min.N.m)/s
   Description: Limitation de gradient de couple AR Volt Control adaptée
   LSB: 250 OFF:  0 MIN/MAX:  1000 .. 125000 */;

#define PRODELENG_STOP_SEC_GLOBAL_16BIT
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_GLOBAL_8BIT
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   AR_IF_GLOBAL_8BIT: Global 8 bits for AUTOSAR modules | Width: 8
\******************************************************************************/
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoOptmEl_stElProd_in /* 
   Unit       : -
   Description: Etat de la production électrique 12V
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 3 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPTSt_stEng_in /* 
   Unit       : -
   Description: Etat moteur thermique
   LSB: 2^0 OFF:  0 MIN/MAX:  1 .. 15 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPtUH_stPwt_in /* 
   Unit       : -
   Description: Etat GMP UH/ Urban Hybrid state
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 15 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPt_noGearCord_in /* 
   Unit       : -
   Description: Rapport de boîte generique / Generic gear ratio
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 6 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPt_stCnvCluFil_in /* 
   Unit       : tr/min
   Description: Etat convertisseur filtré
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 2 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPt_stCpl_in /* 
   Description: Etat couplage
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 3 */;
AR_IF_GLOBAL_8BIT UInt8 ProdElEng_012_CoPt_stVoltAltBoostReq_in /* 
   Description: Phase de demande de boost de la tension alternateur
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 3 */;
AR_IF_GLOBAL_8BIT UInt8 RE_ProdElEng_012_TEV_TqLimUH_tqGrdLimUHDynMax_in /* 
   Unit       : N.m/s
   Description: Limitation dynamique de gradient de couple AR
   LSB: 2^-1 OFF:  0 MIN/MAX:  0 .. 127 */;
AR_IF_GLOBAL_8BIT UInt8 TqLimUH_bfAcvConstFrntTra1_out /* 
   Unit       : -
   Description: Champ de bit d'activation des besoin TAV1
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 255 */;
AR_IF_GLOBAL_8BIT UInt8 TqLimUH_stReqBlsVoltCtl_out /* 
   Unit       : -
   Description: Demande de lestage Volt Control 
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 3 */;
AR_IF_GLOBAL_8BIT UInt8 TqLimUH_stReqUnBlsVoltCtl_out /* 
   Unit       : -
   Description: Demande de délestage Volt Control
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 7 */;

#define PRODELENG_STOP_SEC_GLOBAL_8BIT
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_GLOBAL_BOOLEAN
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   AR_IF_GLOBAL_BOOLEAN: Global boolean for AUTOSAR modules | Width: 8
\******************************************************************************/
AR_IF_GLOBAL_BOOLEAN Boolean ProdElEng_012_CoPt_bTqTx_in /* 
   Description: Etat transmission du couple
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean ProdElEng_012_Ext_bBrkPedPrss_in /* 
   Description: Appui pédale de frein / Brake switch
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean ProdElEng_012_FRM_bInhRecupUH_in /* 
   Description: FRM d'inibition de la récupération STT UH
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean ProdElEng_012_FRM_bInhRecupVoltCtl_in /* 
   Description: FRM d'inhibition de la récupération STT Volt Control
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqLimUH_bAntiStall_in /* 
   Description: Requête d'assistance anti-calage par AR
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqLimUH_bBrioUHBoost_in /* 
   Description: Demande de Brio UH par Boost
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqLimUH_bBrioUHRls_in /* 
   Description: Demande de Brio UH par délestage AR
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqLimUH_bRlsAltBrkAsi_in /* 
   Description: Demande de délester l'alternateur pour assistance freinage
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqLimUH_bTqAltFrzReq_in /* 
   Description: Demande de figeage couple AR
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqSys_bInhRecupUHVoltCtl_in /* 
   Description: Demande d'inhibition de la recup 
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean RE_ProdElEng_012_TEV_TqSys_bInjAcvUHReq_in /* 
   Description: Etat de coupure pour les besoins UH
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean TqLimUH_bFrzReqTqVoltCtl_out /* 
   Description: Demande de figeage couple AR Volt Control
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
AR_IF_GLOBAL_BOOLEAN Boolean TqLimUH_bReqClsCnv_out /* 
   Description: Demande de pontage BVA
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;

#define PRODELENG_STOP_SEC_GLOBAL_BOOLEAN
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_GLOBAL_BOOLEAN
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   AR_IF_GLOBAL_BOOLEAN_IRV: Global boolean for AUTOSAR modules | Width: 8
\******************************************************************************/
Boolean TqLimUH_bRecupAcv /* 
   Description: Flag indiquant récupération active
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;
Boolean TqLimUH_bUHRecupInh /* 
   Description: Demande d'interdiction de récupération UH 
   LSB: 2^0 OFF:  0 MIN/MAX:  0 .. 1 */;

#define PRODELENG_STOP_SEC_GLOBAL_BOOLEAN
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_VAR_16BIT
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   UserSLStaticGlobalInit: SLStaticGlobalInit = { AR_SEC_VAR_BOOLEAN AR_SEC_UNSPECIFIED AR_SEC_VAR_8
   BIT AR_SEC_VAR_16BIT AR_SEC_VAR_32BIT AR_SEC_UNSPECIFIED } | Width: 16
\******************************************************************************/
static UInt16 X_S0128_Unit_Delay;
static UInt16 X_S0129_Unit_Delay;

#define PRODELENG_STOP_SEC_VAR_16BIT
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_VAR_8BIT
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   UserSLStaticGlobalInit: SLStaticGlobalInit = { AR_SEC_VAR_BOOLEAN AR_SEC_UNSPECIFIED AR_SEC_VAR_8
   BIT AR_SEC_VAR_16BIT AR_SEC_VAR_32BIT AR_SEC_UNSPECIFIED } | Width: 8
\******************************************************************************/

#define PRODELENG_STOP_SEC_VAR_8BIT
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_VAR_BOOLEAN
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   UserSLStaticGlobalInit: SLStaticGlobalInit = { AR_SEC_VAR_BOOLEAN AR_SEC_UNSPECIFIED AR_SEC_VAR_8
   BIT AR_SEC_VAR_16BIT AR_SEC_VAR_32BIT AR_SEC_UNSPECIFIED } | Width: 8
\******************************************************************************/
static Boolean X_S01210_Unit_Delay;
static Boolean X_S01210_Unit_Delay1;
static Boolean X_S01211_Unit_Delay;
static Boolean X_S01211_Unit_Delay1;

#define PRODELENG_STOP_SEC_VAR_BOOLEAN
#include "ProdElEng_MemMap.h"

#define PRODELENG_START_SEC_VAR_8BIT
#include "ProdElEng_MemMap.h"

/******************************************************************************\
   UserSLStaticLocalInit: SLStaticLocalInit = { AR_SEC_VAR_BOOLEAN AR_SEC_UNSPECIFIED AR_SEC_VAR_8BI
   T AR_SEC_VAR_16BIT AR_SEC_VAR_32BIT AR_SEC_UNSPECIFIED } | Width: 8
\******************************************************************************/
static UInt8 DD_S0123__D_visu_lastIndex /*
   Description: local_xLow */;
static UInt8 S0124_Prelookup_f /* LSB: 2^-8 OFF:  0 MIN/MAX:  0 .. 0.99609375 */;
static UInt8 S0124_Prelookup_k;

#define PRODELENG_STOP_SEC_VAR_8BIT
#include "ProdElEng_MemMap.h"

/*----------------------------------------------------------------------------*\
  PARAMETERIZED MACROS
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  FUNCTION PROTOTYPES
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  INLINE FUNCTIONS
\*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*\
  FUNCTION DEFINITIONS
\*----------------------------------------------------------------------------*/

/**************************************************************************************************\
 ***  FUNCTION:
 ***      ProdElEng_011_MSE_ini
 *** 
 ***  DESCRIPTION:
 ***      Main restart function
 ***      
 *** 
 ***  PARAMETERS:
 ***      Type               Name                Description
 ***      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 ***
 ***  RETURNS:
 ***      Void
 ***
 ***  SETTINGS:
 ***
\**************************************************************************************************/

#define PRODELENG_START_SEC_CODE
#include "ProdElEng_MemMap.h"
Void ProdElEng_011_MSE_ini(Void)
{
   ProdElEng_012_FctVarInit();
}

#define PRODELENG_STOP_SEC_CODE
#include "ProdElEng_MemMap.h"

/**************************************************************************************************\
 ***  FUNCTION:
 ***      ProdElEng_012_TEV_fct
 *** 
 ***  DESCRIPTION:
 ***      
 *** 
 ***  PARAMETERS:
 ***      Type               Name                Description
 ***      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 ***
 ***  RETURNS:
 ***      Void
 ***
 ***  SETTINGS:
 ***
\**************************************************************************************************/

#define PRODELENG_START_SEC_CODE
#include "ProdElEng_MemMap.h"
Void ProdElEng_012_TEV_fct(Void)
{
   /* SLLocal: Default storage class for local variables | Width: 32 */
   UInt32 Aux_U32;
   UInt32 Aux_U32_a /* LSB: 2^-11 OFF:  0 MIN/MAX:  0 .. 2097151.99951172 */;
   UInt32 Aux_U32_b /* LSB: 2^-11 OFF:  0 MIN/MAX:  0 .. 2097151.99951172 */;

   /* SLLocal: Default storage class for local variables | Width: 16 */
   UInt16 Aux_U16;
   UInt16 Aux_U16_a;
   UInt16 Aux_U16_b;
   UInt16 Aux_U16_c;
   UInt16 Aux_U16_d;
   UInt16 Aux_U16_e /* LSB: 2^-1 OFF:  0 MIN/MAX:  0 .. 32767.5 */;

   /* SLLocal: Default storage class for local variables | Width: 8 */
   UInt8 Aux_U8;
   UInt8 Aux_U8_a;
   UInt8 Aux_U8_b;
   UInt8 Aux_U8_c;
   UInt8 Aux_U8_d;
   Boolean Aux__e;
   Boolean Aux__f;
   Boolean Aux__g;

   Aux_U8 = ProdElEng_012_CoPt_stVoltAltBoostReq_in == 1 /* 1. */;

   /* Switch: ProdElEng_012/F02_CordVoltCtl/Switch5
      ProdElEng_012/F02_CordVoltCtl/Switch5: Omitted comparison with constant. */
   if (ProdElEng_012_CoPt_stVoltAltBoostReq_in == 2) {
      /* Variable 'S0123_Switch5' replaced by 'Aux_U8_a' */
      Aux_U8_a = 2 /* 2. */;
   }
   else {
      /* Variable 'S0123_Switch5' replaced by 'Aux_U8_a' */
      Aux_U8_a = 0 /* 0. */;
   }

   /* Switch: ProdElEng_012/F02_CordVoltCtl/Switch6
      ProdElEng_012/F02_CordVoltCtl/Switch6: Omitted comparison with constant. */
   if (ProdElEng_012_CoPt_stVoltAltBoostReq_in == 3) {
      /* Variable 'S0123_Switch6' replaced by 'Aux_U8_b' */
      Aux_U8_b = 4 /* 4. */;
   }
   else {
      /* Variable 'S0123_Switch6' replaced by 'Aux_U8_b' */
      Aux_U8_b = 0 /* 0. */;
   }
   Aux_U8 += Aux_U8_a;

   /* Variable 'S0123_Sum2' replaced by 'Aux_U8_a' */
   Aux_U8_a = (UInt8) (Aux_U8 + Aux_U8_b);

   /* Variable 'S0123___Relational_Operator7' replaced by 'Aux__e' */
   Aux__e = Aux_U8_a != 0 /* 0. */;

   /* Switch: ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter/Switch1
      ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter/Switch1: Omitted comparison with const
      ant. */
   if (Aux__e) {
      /* Sum: ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter/Sum
         Variable 'S0129_Sum' replaced by 'Aux_U16' */
      Aux_U16 = (UInt16) (X_S0129_Unit_Delay + 1);

      /* MinMax: ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter/MinMax2 */
      if (1001 < Aux_U16) {
         /* Variable 'S0129_Switch1' replaced by 'Aux_U16_a' */
         Aux_U16_a = 1001 /* 1001. */;
      }
      else {
         /* Variable 'S0129_Switch1' replaced by 'Aux_U16_a' */
         Aux_U16_a = Aux_U16;
      }
   }
   else {
      /* Variable 'S0129_Switch1' replaced by 'Aux_U16_a' */
      Aux_U16_a = 0 /* 0. */;
   }

   /* Switch: ProdElEng_012/F02_CordVoltCtl/__Switch3
      ProdElEng_012/F02_CordVoltCtl/__Switch3: Omitted comparison with constant.
      # combined # Product: ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Product */
   if (Aux__e && (Aux_U16_a > TqLimUH_tiDlyConstFrntTra1_C)) {
      /* Variable 'S0123___Switch3' replaced by 'Aux_U8' */
      Aux_U8 = Aux_U8_a;
   }
   else {
      /* Variable 'S0123___Switch3' replaced by 'Aux_U8' */
      Aux_U8 = 0 /* 0. */;
   }

   /* TargetLink outport: ProdElEng_012/TqLimUH_bfAcvConstFrntTra1_out */
   TqLimUH_bfAcvConstFrntTra1_out = Aux_U8;

   /* Variable 'S0123___Relational_Operator9' replaced by 'Aux__e' */
   Aux__e = ProdElEng_012_CoPTSt_stEng_in != TqLimUH_stEngRunVoltCtl_C;

   /* Switch: ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter/Switch1
      ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter/Switch1: Omitted comparison with constant.
    */
   if (Aux__e) {
      /* Variable 'S0128_Switch1' replaced by 'Aux_U16' */
      Aux_U16 = 0 /* 0. */;
   }
   else {
      /* Sum: ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter/Sum
         Variable 'S0128_Sum' replaced by 'Aux_U16_b' */
      Aux_U16_b = (UInt16) (X_S0128_Unit_Delay + 1);

      /* MinMax: ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter/MinMax2 */
      if (2501 < Aux_U16_b) {
         /* Variable 'S0128_Switch1' replaced by 'Aux_U16' */
         Aux_U16 = 2501 /* 2501. */;
      }
      else {
         /* Variable 'S0128_Switch1' replaced by 'Aux_U16' */
         Aux_U16 = Aux_U16_b;
      }
   }

   /* Switch: ProdElEng_012/F02_CordVoltCtl/Switch
      ProdElEng_012/F02_CordVoltCtl/Switch: Omitted comparison with constant.
      # combined # Product: ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Product */
   if (Aux__e || (Aux_U16 <= (((UInt16) TqLimUH_tiDlyAuthUnBls_C) * 10))) {
      /* Variable 'S0123_Switch' replaced by 'Aux_U8_a' */
      Aux_U8_a = 3 /* 3. */;
   }
   else {
      /* Variable 'S0123_Switch' replaced by 'Aux_U8_a' */
      Aux_U8_a = 0 /* 0. */;
   }

   /* Switch: ProdElEng_012/F02_CordVoltCtl/Switch1
      ProdElEng_012/F02_CordVoltCtl/Switch1: Omitted comparison with constant. */
   if (RE_ProdElEng_012_TEV_TqLimUH_bAntiStall_in) {
      /* Variable 'S0123_Switch1' replaced by 'Aux_U8_b' */
      Aux_U8_b = 2 /* 2. */;
   }
   else {
      /* Variable 'S0123_Switch1' replaced by 'Aux_U8_b' */
      Aux_U8_b = 0 /* 0. */;
   }

   /* Variable 'S0123___Logical_Operator' replaced by 'Aux__e' */
   Aux__e = RE_ProdElEng_012_TEV_TqLimUH_bBrioUHBoost_in ||
    RE_ProdElEng_012_TEV_TqLimUH_bBrioUHRls_in;

   /* Switch: ProdElEng_012/F02_CordVoltCtl/Switch3
      ProdElEng_012/F02_CordVoltCtl/Switch3: Omitted comparison with constant. */
   if (RE_ProdElEng_012_TEV_TqLimUH_bRlsAltBrkAsi_in) {
      /* Variable 'S0123_Switch3' replaced by 'Aux_U8_c' */
      Aux_U8_c = 4 /* 4. */;
   }
   else {
      /* Variable 'S0123_Switch3' replaced by 'Aux_U8_c' */
      Aux_U8_c = 0 /* 0. */;
   }

   /* MinMax: ProdElEng_012/F02_CordVoltCtl/__MinMax */
   if (Aux_U8_a > Aux_U8_b) {
      /* Variable 'S0123___MinMax' replaced by 'Aux_U8_d' */
      Aux_U8_d = Aux_U8_a;
   }
   else {
      /* Variable 'S0123___MinMax' replaced by 'Aux_U8_d' */
      Aux_U8_d = Aux_U8_b;
   }
   if (Aux__e > Aux_U8_d) {
      /* Variable 'S0123___MinMax' replaced by 'Aux_U8_d' */
      Aux_U8_d = Aux__e;
   }
   if (Aux_U8_c > Aux_U8_d) {
      /* Variable 'S0123___MinMax' replaced by 'Aux_U8_d' */
      Aux_U8_d = Aux_U8_c;
   }

   /* Switch: ProdElEng_012/F03_Eng_Bls_Auth/BasculeRS/TqLimUH_bEngBlsAuth_visu
      ProdElEng_012/F03_Eng_Bls_Auth/BasculeRS/TqLimUH_bEngBlsAuth_visu: Omitted comparison with con
      stant. */
   if (X_S01210_Unit_Delay1) {
      /* SLLocal: Default storage class for local variables | Width: 16 */
      SInt16 Aux_I16 /* LSB: 2^-2 OFF:  0 MIN/MAX:  -8192 .. 8191.75 */;

      /* Sum: ProdElEng_012/F03_Eng_Bls_Auth/Sum2
         Variable 'S0124_Sum2' replaced by 'Aux_I16' */
      Aux_I16 = (SInt16) (ProdElEng_012_Eng_nCkFil_in - ProdElEng_012_TqSys_nTarIdl_in);

      /* IndexSearch: ProdElEng_012/F03_Eng_Bls_Auth/Prelookup
         # combined # Saturation: ProdElEng_012/F03_Eng_Bls_Auth/Saturation */
      TabIdxS50T4((const SInt16 *) TqLimUH_nEngThdBlslX_A, 6, C__I16SATI16_SATb(Aux_I16, 28000 /* 70
      00. */, -4000 /* -1000. */), &(S0124_Prelookup_k), &(S0124_Prelookup_f));

      /* Interpolation: ProdElEng_012/F03_Eng_Bls_Auth/TqLimUH_rAccPThdBls_visu */
      TqLimUH_rAccPThdBls_MP = Tab1DIntp2I1T1((const UInt16 *) TqLimUH_rAccPThdBls_T,
       S0124_Prelookup_k, S0124_Prelookup_f);

      /* Interpolation: ProdElEng_012/F03_Eng_Bls_Auth/TqLimUH_tqEngRealThdBls_visu */
      TqLimUH_tqEngRealThdBls_MP = Tab1DIntp2I1T4((const SInt16 *) TqLimUH_tqEngRealThdBls_T,
       S0124_Prelookup_k, S0124_Prelookup_f);
      TqLimUH_bAuthEngAcvRecup_MP = ((((UInt16) (ProdElEng_012_CoVSCtl_rAccPEngTrv_in << 2)) <=
       TqLimUH_rAccPThdBls_MP) && (ProdElEng_012_TqSys_tqCkEngReal_in <= ((SInt16)
       (TqLimUH_tqEngRealThdBls_MP << 5)))) || RE_ProdElEng_012_TEV_TqSys_bInjAcvUHReq_in;

      /* Variable 'S0124_Logical_Operator6' replaced by 'Aux__e' */
      Aux__e = (ProdElEng_012_CoPTSt_stEng_in == TqLimUH_stEngRunVoltCtl_C) &&
       TqLimUH_bAuthEngAcvRecup_MP;

      /* # combined # Sum: ProdElEng_012/F03_Eng_Bls_Auth/Sum
         # combined # Sum: ProdElEng_012/F03_Eng_Bls_Auth/Sum1 */
      TqLimUH_bInhEngAcvRecup_MP = (ProdElEng_012_CoVSCtl_rAccPEngTrv_in > ((UInt16) (((SInt16)
       (((SInt16) (TqLimUH_rAccPThdBls_MP >> 8)) + ((UInt16) TqLimUH_rAccPThdOfsBls_C))) << 6))) ||
       (ProdElEng_012_TqSys_tqCkEngReal_in > ((SInt16) (((SInt16) (((SInt16)
       (TqLimUH_tqEngRealThdBls_MP + TqLimUH_tqEngRealThdOfsBls_C)) << 1)) << 4)));

      /* Variable 'S0124_Logical_Operator2' replaced by 'Aux__f' */
      Aux__f = (!(RE_ProdElEng_012_TEV_TqSys_bInjAcvUHReq_in)) && TqLimUH_bInhEngAcvRecup_MP;
      TqLimUH_bEngBlsAuth = (Aux__e && (!(Aux__f))) || ((!(Aux__e)) && (!(Aux__f)) &&
       X_S01210_Unit_Delay);
   }
   else {
      TqLimUH_bEngBlsAuth = 0 /* 0. */;
   }
   TqLimUH_bLdVoltCtlReq_MP = (Aux_U8_d == 0 /* 0. */) && (!(TqLimUH_bAcvGBxBlsInh_C &&
    RE_ProdElEng_012_TEV_TqSys_bInhRecupUHVoltCtl_in)) && TqLimUH_bEngBlsAuth &&
    ProdElEng_012_CoPt_bTqTx_in;

   /* Switch: ProdElEng_012/F02_CordVoltCtl/__Switch2
      ProdElEng_012/F02_CordVoltCtl/__Switch2: Omitted comparison with constant. */
   if (TqLimUH_bLdVoltCtlReq_MP && (!(ProdElEng_012_FRM_bInhRecupVoltCtl_in))) {
      /* Switch: ProdElEng_012/F02_CordVoltCtl/__Switch1
         # combined # TableLookup: ProdElEng_012/F02_CordVoltCtl/$D_visu */
      if (Tab1DS2I2T0(&(S0123__D_visu_map), ProdElEng_012_CoPt_stCpl_in,
       &(DD_S0123__D_visu_lastIndex)) != 0) {
         /* Variable 'S0123___Switch2' replaced by 'Aux_U8_a'
            # combined # ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D)
            # combined # ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D): Omitted upper sat
            uration
            
            ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D): Omitted lower saturation */
         Aux_U8_a = (UInt8) (SInt16) TqLimUH_noLdVoltCtlReqMax_M[(UInt8)
          ProdElEng_012_Ext_bBrkPedPrss_in][ProdElEng_012_CoPt_noGearCord_in];
      }
      else {
         /* Variable 'S0123___Switch2' replaced by 'Aux_U8_a'
            # combined # ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D)1
            # combined # ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D)1: Omitted upper sa
            turation
            
            ProdElEng_012/F02_CordVoltCtl/Direct Look-Up Table (n-D)1: Omitted lower saturation */
         Aux_U8_a = (UInt8) (SInt16) TqLimUH_noLdVoltCtlReq_M[(UInt8)
          ProdElEng_012_Ext_bBrkPedPrss_in][ProdElEng_012_CoPt_noGearCord_in];
      }
   }
   else {
      /* Variable 'S0123___Switch2' replaced by 'Aux_U8_a' */
      Aux_U8_a = 0 /* 0. */;
   }

   /* Switch: ProdElEng_012/F04_Demande_Pontage_BVA/BasculeRS1/Switch
      ProdElEng_012/F04_Demande_Pontage_BVA/BasculeRS1/Switch: Omitted comparison with constant. */
   if (X_S01211_Unit_Delay1) {
      /* Variable 'S0125__S__B_1_visu' replaced by 'Aux__e' */
      Aux__e = ((ProdElEng_012_CoPt_stCnvCluFil_in == 0 /* 0. */) ||
       (ProdElEng_012_CoPt_stCnvCluFil_in == 1 /* 1. */)) && (Aux_U8_a == 2 /* 2. */);

      /* Variable 'S0125_Relational_Operator3' replaced by 'Aux__f' */
      Aux__f = Aux_U8_a == 0 /* 0. */;

      /* Variable 'S01211_Switch' replaced by 'Aux__g' */
      Aux__g = (Aux__e && (!(Aux__f))) || ((!(Aux__e)) && (!(Aux__f)) && X_S01211_Unit_Delay);
   }
   else {
      /* Variable 'S01211_Switch' replaced by 'Aux__g' */
      Aux__g = 1 /* 1. */;
   }

   /* TargetLink outport: ProdElEng_012/TqLimUH_bReqClsCnv_out */
   TqLimUH_bReqClsCnv_out = Aux__g;

   /* TargetLink outport: ProdElEng_012/TqLimUH_stReqUnBlsVoltCtl_out */
   TqLimUH_stReqUnBlsVoltCtl_out = Aux_U8_d;

   /* TargetLink outport: ProdElEng_012/TqLimUH_stReqBlsVoltCtl_out */
   TqLimUH_stReqBlsVoltCtl_out = Aux_U8_a;

   /* MinMax: ProdElEng_012/F02_CordVoltCtl/__MinMax2 */
   if (ProdElEng_012_Eng_nCkFil_in > 2000 /* 500. */) {
      /* Variable 'S0123___MinMax2' replaced by 'Aux_U16_b' */
      Aux_U16_b = ProdElEng_012_Eng_nCkFil_in;
   }
   else {
      /* Variable 'S0123___MinMax2' replaced by 'Aux_U16_b' */
      Aux_U16_b = 2000 /* 500. */;
   }
   Aux_U16_c = (UInt16) RE_ProdElEng_012_TEV_TqLimUH_tqGrdLimUHDynMax_in;
   Aux_U16_d = (UInt16) (((UInt16) (((UInt16) TqLimUH_grdTqVoltCtlProt_C) << 1)) + 2);

   /* MinMax: ProdElEng_012/F02_CordVoltCtl/__MinMax3 */
   if (Aux_U16_c > Aux_U16_d) {
      /* Variable 'S0123___MinMax3' replaced by 'Aux_U16_e' */
      Aux_U16_e = Aux_U16_c;
   }
   else {
      /* Variable 'S0123___MinMax3' replaced by 'Aux_U16_e' */
      Aux_U16_e = Aux_U16_d;
   }

   /* Product: ProdElEng_012/F02_CordVoltCtl/TqLimUH_grdTqVoltCtlDyn_visu */
   TqLimUH_grdTqVoltCtlDyn_MP = (UInt32) ((((UInt32) Aux_U16_b) * ((UInt32) Aux_U16_e)) << 8);
   Aux_U32 = (UInt32) (((UInt32) TqLimUH_grdVoltCtlDynMin_C) << 18);

   /* MinMax: ProdElEng_012/F02_CordVoltCtl/__MinMax5 */
   if (Aux_U32 > TqLimUH_grdTqVoltCtlDyn_MP) {
      /* Variable 'S0123___MinMax5' replaced by 'Aux_U32_a' */
      Aux_U32_a = Aux_U32;
   }
   else {
      /* Variable 'S0123___MinMax5' replaced by 'Aux_U32_a' */
      Aux_U32_a = TqLimUH_grdTqVoltCtlDyn_MP;
   }
   Aux_U32 = ((UInt32) TqLimUH_grdVoltCtlDynMax_C) * 512000;

   /* MinMax: ProdElEng_012/F02_CordVoltCtl/__MinMax4 */
   if (Aux_U32 < Aux_U32_a) {
      /* Variable 'S0123___MinMax4' replaced by 'Aux_U32_b' */
      Aux_U32_b = Aux_U32;
   }
   else {
      /* Variable 'S0123___MinMax4' replaced by 'Aux_U32_b' */
      Aux_U32_b = Aux_U32_a;
   }

   /* TargetLink outport: ProdElEng_012/TqLimUH_grdLimVoltCtlDynMax_out */
   TqLimUH_grdLimVoltCtlDynMax_out = (UInt16) (Aux_U32_b / 512000);
   TqLimUH_bFrzReqTqVoltCtl_out = (0 /* 0. */ == Aux_U8) &&
    RE_ProdElEng_012_TEV_TqLimUH_bTqAltFrzReq_in && (Aux_U8_d == 0 /* 0. */);
   TqLimUH_bRecupUHAcv = ProdElEng_012_CoPtUH_stPwt_in == TqLimUH_stPwtRecup_C;
   TqLimUH_bRecupAcv = ((ProdElEng_012_CoOptmEl_stElProd_in == TqLimUH_stVoltCtlRecup_C) ||
    TqLimUH_bRecupUHAcv) && TqLimUH_bLdVoltCtlReq_MP;
   TqLimUH_bUHRecupInh = RE_ProdElEng_012_TEV_TqSys_bInhRecupUHVoltCtl_in ||
    ProdElEng_012_FRM_bInhRecupUH_in;

   /* Unit delay: ProdElEng_012/F02_CordVoltCtl/TurnOnDelay_Uint8/Counter/Unit Delay */
   X_S0129_Unit_Delay = Aux_U16_a;

   /* Unit delay: ProdElEng_012/F02_CordVoltCtl/TurnOffDelay/Counter/Unit Delay */
   X_S0128_Unit_Delay = Aux_U16;

   /* Unit delay: ProdElEng_012/F03_Eng_Bls_Auth/BasculeRS/Unit Delay1 */
   X_S01210_Unit_Delay1 = 1 /* 1. */;

   /* Unit delay: ProdElEng_012/F03_Eng_Bls_Auth/BasculeRS/Unit Delay */
   X_S01210_Unit_Delay = TqLimUH_bEngBlsAuth;

   /* Unit delay: ProdElEng_012/F04_Demande_Pontage_BVA/BasculeRS1/Unit Delay1 */
   X_S01211_Unit_Delay1 = 1 /* 1. */;

   /* Unit delay: ProdElEng_012/F04_Demande_Pontage_BVA/BasculeRS1/Unit Delay */
   X_S01211_Unit_Delay = Aux__g;
}

#define PRODELENG_STOP_SEC_CODE
#include "ProdElEng_MemMap.h"

/**************************************************************************************************\
 ***  FUNCTION:
 ***      ProdElEng_012_FctVarInit
 *** 
 ***  DESCRIPTION:
 ***      AR_IF_GLOBAL_BOOLEAN_IRV
 *** 
 ***  PARAMETERS:
 ***      Type               Name                Description
 ***      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 ***
 ***  RETURNS:
 ***      Void
 ***
 ***  SETTINGS:
 ***
\**************************************************************************************************/

#define PRODELENG_START_SEC_CODE
#include "ProdElEng_MemMap.h"
Void ProdElEng_012_FctVarInit(Void)
{
   DD_S0123__D_visu_lastIndex = 0 /* 0. */;
   S0124_Prelookup_f = 0 /* 0. */;
   S0124_Prelookup_k = 0 /* 0. */;
   X_S01210_Unit_Delay = 0 /* 0. */;
   X_S01210_Unit_Delay1 = 0 /* 0. */;
   X_S01211_Unit_Delay = 1 /* 1. */;
   X_S01211_Unit_Delay1 = 0 /* 0. */;
   X_S0128_Unit_Delay = 2501 /* 2501. */;
   X_S0129_Unit_Delay = 0 /* 0. */;
}

#define PRODELENG_STOP_SEC_CODE
#include "ProdElEng_MemMap.h"

/*----------------------------------------------------------------------------*\
  MODULE LOCAL FUNCTION DEFINITIONS
\*----------------------------------------------------------------------------*/

#endif/*_PRODELENG_012_TEV_FCT_C_ */
/*----------------------------------------------------------------------------*\
  END OF FILE
\*----------------------------------------------------------------------------*/
