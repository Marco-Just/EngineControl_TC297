Nom_fonction|Release_fonction|Prototype|Num_stc|Nom_module|Public|Reférence_spec_systéme|Reférence_spec_systéme_1|Reférence_spec_systéme_2|Reférence_spec_systéme_3|Fonction_à_supprimer|Validation|Export_part|Macro|function_description|MemSec
GDGAR_bGetFRM|B|func_FRM_bGetFRM|1|HEADER|1|NONE||||0|0|0|0|Get FRM Value|
IgLim_EveBDC_KnkAdpCor|F|();|SCH.1|KNKADPCOR|1|PTS_DOC_5154831||||0|0|0|0|Evènement point mort bas admission|
IgLim_EveRst_KnkAdpCor|C|();|SCH.2|KNKADPCOR|1|PTS_DOC_5154831||||0|0|0|0|Evènement reset|
IgLim_SdlFast_KnkAdpCor|C|();|SCH.3|KNKADPCOR|1|PTS_DOC_5154831||||0|0|0|0|Moniteur rapide de la fonction IgLim|
IgLim_SdlMid_KnkAdpCor|C|();|SCH.4|KNKADPCOR|1|PTS_DOC_5154831||||0|0|0|0|Moniteur moyen de la fonction IgLim|
IgLim_SdlSlow_KnkAdpCor|C|();|SCH.5|KNKADPCOR|1|PTS_DOC_5154831||||0|0|0|0|Moniteur lent de la fonction IgLim|
KNKADPCOR_vidAdapComputeStrategy|F|();|FCT2.4|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|L’adaptatif est incrémenté à chaque détection de cliquetis que ce soit par la stratégie de détection classique ou par la détection palliative. S’il n’y a pas de cliquetis, la décrémentation n’est autorisée que si l’avance optimale est sup à l’avance maxi.|
KNKADPCOR_vidAdaptativeCompute|I|();|FCT2.3|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Ce bloc calcule la correction d'avance à appliquer par rapport au bornage maximum pour le cylindre en cours.|
KNKADPCOR_vidAdaptativeReading|L|();|FCT2.9|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|La zone de fonctionnement courante est déterminée préalablement à la lecture des adaptatifs qui vont être appliqués au prochain allumage. Elle est fixée à 0, si le régime et la charge moteur sont en dehors des bornes min et max des points d’appui.|
KNKADPCOR_vidAdaptDec|D|();|FCT2.7|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|La borne minimale des adaptatifs est différente de zéro par rapport à la stratégie précédente; Les adaptatifs peuvent prendre des valeurs négatives afin de faire un apprentissage de carburant ayant un indice d’octane supérieur à celui des avances de base.|
KNKADPCOR_vidAdaptSlewRate|D|();|FCT2.8|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Lorsqu'une incrémentation est appliquée, elle est soumise à un slew rate afin d'éviter les à-coups dans le ressenti. Le slew rate est cartographié en fonction du régime (table Av_bmax_max_slew_rate_map).|
KNKADPCOR_vidAdaptWriteCond|D|();|FCT1.8|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|La décrémentation ou l'incrémentation des adaptatifs est figée si : une panne anti-cliquetis apparaît, un changement de rapport effectué en BVA et BVMP, le point de fonctonnement n'est pas en zone critique, le régime et la charge sont en transitoire.|
KNKADPCOR_vidAntiKnockPrevention|E|();|FCT3.6|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|La correction de limite max n'est appliquée que dans la zone critique, où un risque de cliquetis existe. En cas de panne de la fonction anti-cliquetis, on applique une correction préventive forfaitaire(Av_bmax_corr_adapt_defaut_anti_k).|
KNKADPCOR_vidCalcAvBmaxMoyen|G|();|FCT3.7|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Calcul av bmax moyen.|
KNKADPCOR_vidConditionalVarReset|C|();|FCT3.3|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|A chaque changement de zone, les compteurs de retard et de décrémentation sont réinitialisés.|
KNKADPCOR_vidCounterReset|C|();|FCT3.1|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|A chaque changement de zone, les adaptatifs correspondant à la nouvelle zone sont appliqués.|
KNKADPCOR_vidCylAdaptation|G|();|FCT3.4|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Le calcul des adaptatifs est lissé afin d'éviter une trop grande dispersion entre cylindres. On autorise les adaptations à varier dans une plage de largeur Av_bmax_ecart_max.|
KNKADPCOR_vidDecrementation|D|();|FCT2.6|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|S’il n’y a pas de cliquetis, la décrémentation n’est autorisée que si l’avance optimale est supérieure à l’avance maxi d’au moins Knk_adapt_dec_delta_min.|
KNKADPCOR_vidEngLoadStable|E|();|FCT1.7|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Le booléen Knk_adapt_n_stable passe à 1 lorsque le régime moteur est considéré stable, c'est-à-dire lorsque ses variations sont inférieures au critère Knk_adapt_n_stab_thresh.|
KNKADPCOR_vidEngSpdEngLoadSaving|E|();|FCT1.5|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Au PMB admission d’un cylindre, sont calculées l’avance à l’allumage pour ce cylindre et l’avance pour le cylindre suivant. Les corrections d’avance anti-cliquetis doivent donc être mises à jour 2 PMB admission avant le PMH combustion.|
KNKADPCOR_vidEngSpdStable|D|();|FCT1.6|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Au PMB admission d’un cylindre, sont calculées l’avance à l’allumage pour ce cylindre (Avance_finale) et l’avance pour le cylindre suivant Les corrections d’avance anti-cliquetis doivent donc être mises à jour 2 PMB admission avant le PMH combustion.|
KNKADPCOR_vidFiltering|H|();|FCT3.8|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Cette fonction permet de prendre en compte les transitions sur la zone de fonctionnement et la zone critique pour lesquelles de nouveaux adaptatifs sont appliqués. Cette fonction effectue un filtrage sur la sortie lors de ces transitions.|
KNKADPCOR_vidFuelDetection|C|();|FCT2.1|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Cette fonction permet l'appel de la fonction de remise à 0 des correctifs d'avance.|
KNKADPCOR_vidHighTemperature|E|();|FCT1.4|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Les adaptatifs sont mémorisés en EEPROM à la coupure de contact durant le power latch. Ils ne sont restitués au reset que si le moteur est encore chaud.|
KNKADPCOR_vidIncrementation|I|();|FCT2.5|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|L’adaptatif est incrémenté à chaque détection de cliquetis que ce soit par la stratégie de détection classique (Detection_cliquetis =1) ou par la détection palliative (Knk_deg_det_cur_uavb1 = 1).|
KNKADPCOR_vidInitMaxAdvance|I|();|FCT1.2|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Les adaptatifs sont mémorisés en EEPROM à la coupure de contact durant le power latch. Ils ne sont restitués au reset que si le moteur est encore chaud.|
KNKADPCOR_vidInitOutput|L|();|FCT1.1|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Fonction d'initialisation des variables produites par la spec.|
KNKADPCOR_vidInitRFuelDetection|E|();|FCT2.2|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Lorsqu’un plein est détecté et que la carburant situé entre le réservoir et les injecteur est consommé (RFuDet_bRstAdp passe de 1 à 0), les av_bmax doivent être remis à 0 comme pour un reset logiciel.|
KNKADPCOR_vidLowTemperature|E|();|FCT1.3|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Les adaptatifs sont mémorisés en EEPROM à la coupure de contact durant le power latch. Ils ne sont restitués au reset que si le moteur est encore chaud.|
KNKADPCOR_vidMajAvBmax|F|();|FCT3.5|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Mise à jour du vecteur Av_bmax_adapt_anti_k_cylx|
KNKADPCOR_vidTreatment|D|();|FCT3.2|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|A chaque changement de zone, les adaptatifs correspondant à la nouvelle zone sont appliqués.|
KNKADPCOR_vidUpdatApplAdaptShift|A|();|FCT1.9|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Cette fonction permet de mettre à jour les transitions sur la zone de fonctionnement et la zone critique pour lesquelles de nouveaux adaptatifs sont appliqués.|
KNKADPCOR_vidZoneDetermination|G|();|FCT2.10|KNKADPCOR|0|PTS_DOC_5154831||||0|0|0|0|Une hystérésis sur le régime moteur et la charge est appliquée pour chaque transition de zone de fonctionnement.|
SWFAIL_vidSoftwareErrorHook|A|();|2|HEADER|1|NONE||||0|0|0|0|fonction défaut logiciel|
