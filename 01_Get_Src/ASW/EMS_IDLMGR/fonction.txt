Nom_fonction|Release_fonction|Prototype|Num_stc|Nom_module|Public|Reférence_spec_systéme|Reférence_spec_systéme_1|Reférence_spec_systéme_2|Reférence_spec_systéme_3|Fonction_à_supprimer|Validation|Export_part|Macro|function_description|MemSec
GDGAR_bGetFRM|A|(argin uint16 u16IndexFRM)boolean;|12|HEADER|1|NONE||||0|0|0|0||
IDLMGR_vidActiver_ralenti|C|();|FCT1.4|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonctiondétermine l’activation des calculs des fonctions de la gestion ralenti suivant des seuils de régime.Au dessus d’un seuil de régime, les calculs sont stoppés pour économiser de la charge sur le calculateur.|
IDLMGR_vidBoucler_stuct_couple|C|();|FCT5.6|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Ce bloc gère la transition de la structure couple du débouclage vers le bouclage lors que le ralenti s’active. On gère 2 informations par calibrations : - une pente de transition - une durée maximale de transition|
IDLMGR_vidCalc_auto_coupure_inj|B|();|FCT3.1|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans cette fonction, on calcule la condition d’autorisation de coupure-injection pour le ralenti.|
IDLMGR_vidCalc_autorisation_inj|C|();|FCT3.4|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|L’autorisation de coupure injection est activée lorsque Le régulateur de ralenti n’est plus actif OU la condition dynamique n’est plus remplie ET le couple issu  du régulateur de ralenti est sur sa butée minimum.|
IDLMGR_vidCalc_condition_couple|B|();|FCT3.2|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|L’autorisation de coupure injection est accordée lorsque le couple du régulateur de ralenti est sur le couple minimum du ralenti.|
IDLMGR_vidCalc_couple_init_reg|E|();|FCT3.6|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Selon l’état du superviseur de ralenti (IdlSys_bAcvIdlCtl),on calcule la valeur d’initialisation des couples du régulateur(branche air et avance).|
IDLMGR_vidCalc_couple_isop|B|();|FCT3.5|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|A partir du gradient de régime d’entrée au ralenti, on calcule un couple indiqué permettant d’assurer l’entrée au ralenti.Il est possible de moduler l’impact de ce couple en fonction de l’erreur de régime.|
IDLMGR_vidCalc_couple_perte_comp|B|();|FCT1.7|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fontion filtre le couple de pertes compensées.|
IDLMGR_vidCalc_gains_filt_regime|C|();|FCT2.3|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans cette fonction on calcule les gains de l’estimateur de régime moteur, et gérer la transition entre ceux-ci.|
IDLMGR_vidCalc_gains_filtre_grad|C|();|FCT2.4|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans cette fonction on calcule les gains de l’estimateur de gradient de régime moteur, et gérer la transition entre ceux-ci.|
IDLMGR_vidCalc_inertie_veh|D|();|FCT2.1|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans cette fonction, on calcule l’inertie du véhicule à partir des informations de régime moteur, vitesse véhicule, masse véhicule et inertie du moteur à vide.|
IDLMGR_vidCalc_offset_coup_inj|B|();|FCT3.3|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Un offset de régime est calculé pour autoriser la coupure injection. Celui-ci est fonction du gradient de régime et du rapport de boite, et peut être corrigé par un facteur dépendant de la température moteur.|
IDLMGR_vidCalc_pertes_convr_BVA|B|();|FCT5.7|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Permet de récupérer le couple prélevé par le convertisseur en BVA|
IDLMGR_vidCalc_pertes_embr_BVMP|C|();|FCT1.8|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction  filtre le couple prélevé par l’embrayage en BVMP.|
IDLMGR_vidCalc_transition_gains|C|();|FCT2.2|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans cette fonction, on gère un état qui viendra piloter les gains de l'estimateur en fonction de la situation de vie : Moteur à vide, Moteur entrainé sans appui frein et Moteur entrainé avec appui frein.|
IDLMGR_vidCalculer_coef_ralenti|E|();|FCT2.8|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Le profil d’entrée au ralenti est déterminé à partir de l’erreur de régime entre la consigne statique de ralenti et le régime moteur filtré. On différencie les cas appui frein et hors appui frein.|
IDLMGR_vidCalculer_cond_regime|C|();|FCT4.2|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Lorsque le régime moteur est supérieur à l’offset calculé plus la consigne de ralenti statique, alors  on autorise l’activation du ralenti.|
IDLMGR_vidCalculer_consigne_dyn|I|();|FCT2.10|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Lors de l’initialisation de la consigne dynamique par IdlSys_bIniIdlCtl, la consigne dynamique est rendue égale au maximum entre la consigne statique de ralenti et le régime moteur.|
IDLMGR_vidCalculer_couple_pertes|C|();|FCT1.6|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cete fonction calcule le couple de pertes déjà compensées pour le ralenti.|
IDLMGR_vidCalculer_info_regime|B|();|FCT5.1|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction calcule le gradient de régime moteur.|
IDLMGR_vidCalculer_ralenti|E|();|FCT2.7|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|cette fonction calcule le ralenti lorsque les calculs sont activés.|
IDLMGR_vidCalculer_reg_grad_spec|D|();|FCT2.6|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction calcule le e régime moteur filtré à utiliser dans la fonction du ralenti et le gradient de régime moteur filtré à utiliser dans la fonction du ralenti.|
IDLMGR_vidCalculer_regime_estime|C|();|FCT5.3|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction estime deux régimes moteur (un pour le régime filtré, et un pour le gradient de régime filtré.|
IDLMGR_vidCalculer_regime_filtre|C|();|FCT5.2|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction calcule deux régimes moteur filtrés (un pour le régime moteur filtré, et un pour le gradient de régime moteur filtré).|
IDLMGR_vidCalculer_valeurs_replis|B|();|FCT5.5|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans ce bloc, on calcule les valeurs de repli à appliquer lorsque les calculs de la fonction ralenti sont désactivés.|
IDLMGR_vidChange_rapport_boite|D|();|FCT4.9|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Sur  variation  de  l’information  rapport  de  boite  engagé  d’une  mesure  à  l’autre,  une  information indiquant un changement de rapport est levée.|
IDLMGR_vidDet_chang_etat_rampage|B|();|FCT4.7|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans ce bloc, on détermine si l’état de rampage BVMP a changé d’état et de provoquer une réinitialisation du régulateur si c’est le cas.|
IDLMGR_vidDet_changement_mode|B|();|FCT4.10|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Sur variation du sélecteur de gains pour le régulateur d’une mesure à l’autre, une information indiquant un changement de rapport est levée, et une réinitialisation du régulateur est effectuée.|
IDLMGR_vidDet_etat_moteur|D|();|FCT4.3|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans l’état initial, le ralenti est désactivé. Ensuite pour activer les fonctions ralenti, on considère l’état de la structure couple, les demandes d’arrêt moteur, et le franchissement d’un seuil de régime.|
IDLMGR_vidDet_ralenti_effectif|B|();|FCT4.6|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans ce bloc, on détermine si le régulateur de ralenti n’est plus effectif pour autoriser sa coupure.|
IDLMGR_vidDet_regime_critique|C|();|FCT4.5|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|On demande l’activation du ralenti lorsque le régime moteur est proche de la consigne statique.On demande la désactivation du ralenti lorsque le régime moteur est supérieur au seuil d’activation décrit précédemment plus un offset calibrable.|
IDLMGR_vidDeterminer_demarrage|B|();|FCT5.8|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|L’activation de la structure couple active le ralenti|
IDLMGR_vidDeterminer_etat_moteur|C|();|FCT4.1|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans ce bloc, si on peut autoriser l’activation du ralenti, en fonction de l’état du moteur.|
IDLMGR_vidDeterminer_inj_dyn|C|();|FCT4.4|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|L’activation dynamique permet d’activer le régulateur de ralenti sur une condition comparant la dynamique du moteur avec celle nécessaire pour réaliser l’entrée au ralenti attendue.|
IDLMGR_vidEntryInit|F|();|SCH.1|IDLMGR|1|PTS_DOC_5010777||||0|0|0|0|Initialisation des variables produites|
IDLMGR_vidEstimer_regime|D|();|FCT2.5|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Ce bloc calcule le régime moteur estimé à partir du régime moteur que l’on filtre par un passe-bas de 1er  ordre, auquel on ajoute une composante issue du couple moteur réalisé.|
IDLMGR_vidInitOutput|J|();|FCT1.1|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Fonction d'initialisation des parametres produits|
IDLMGR_vidMainTraiter_les_info|E|();|FCT1.2|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction contient le traitement ,lecalcul et la gestion du ralenti.|
IDLMGR_vidManager_le_ralenti|E|();|FCT2.9|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|La fonction de supervision du régulateur se décompose en 8 blocs de détection des conditions du ralenti et 1 bloc de décision.|
IDLMGR_vidPiloter_avances_mini|B|();|FCT3.7|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Dans ce bloc, on vient piloter spécifiquement les avances minimum pour l’agrément lors de l’activation du régulateur de ralenti.|
IDLMGR_vidReinit_en_surregime|F|();|FCT4.8|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Ce module  détecte  le  besoin  de  réinitialiser  le  régulateur  de  ralenti  et  la  consigne  dynamique  lors d’une forte envolée de régime.|
IDLMGR_vidSuperv_regu_de_ralenti|D|();|FCT5.4|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|L’automate d’état de commande du régulateur et de la consigne dynamique possède 2 états macroscopiques :  Régulateur désactivé (« Regulateur_OFF »), Régulateur activé (« Regulateur_ON/ »).|
IDLMGR_vidTraiter_informations|F|();|FCT1.5|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Ce bloc de traitement des informations permet de traiter les signaux d’entrée pour le ralenti en cas de défaut et de calculer des signaux nécessaires à la gestion du ralenti|
IDLMGR_vidTraiter_les_info|C|();|FCT1.3|IDLMGR|0|PTS_DOC_5010777||||0|0|0|0|Cette fonction permet de traiter les signaux d’entrée pour le ralenti en cas de défaut et de calculer des signaux nécessaires à la gestion du ralenti.|
IdlSys_EveSync_bAcvIdlCtl|D|();|SCH.2|IDLMGR|1|PTS_DOC_5010777||||0|0|0|0|Sceduler de la fonction.|
SWFAIL_vidSoftwareErrorHook|A|();|11|HEADER|1|NONE||||0|0|0|0|fonction default de l'automate|
